(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{234:function(t,e,n){"use strict";var r={data:function(){return{}},props:{name:String,stub:String,type:String}},o=n(51),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.stub,type:t.type}}}},[t._v("\n  "+t._s(t.name)+" "+t._s(t._f("capitalize")(t._f("location")(t.type)))+"\n")])}),[],!1,null,null,null);e.a=component.exports},235:function(t,e,n){var r=n(25);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},236:function(t,e,n){"use strict";n(164);var r=n(234),o={data:function(){return{}},props:{stub:String,name:String,type:String,org_count:{type:Number,default:-1},activity_count:{type:Number,default:-1}},components:{LocationLink:r.a}},c=n(51),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("LocationLink",{attrs:{stub:t.stub,name:t.name,type:t.type}}),t._v(" "),t.org_count>-1?n("span",{staticClass:"info"},[t._v("\n    "+t._s(t._f("plural")(t.org_count,"organisation","organisations"))+"\n  ")]):t._e(),t._v(" "),t.activity_count>-1?n("span",{staticClass:"info"},[t._v("\n    "+t._s(t._f("plural")(t.activity_count,"activity","activities"))+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},237:function(t,e,n){"use strict";n(164);var r={data:function(){return{}},props:{org:Object,activity_count:Number}},o=n(51),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("nuxt-link",{attrs:{title:t.org.info.stub,to:{name:"orgs-stub",params:{stub:t.org.info.stub}}}},[t._v(t._s(t._f("truncate")(t.org.info.shortname)))]),t._v(" "),n("span",{staticClass:"info"},[n("b",[t._v("Source:")]),t._v(" "+t._s(t._f("join")(t.org.sources)))]),t._v(" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.activity_count,"activity","activities")))])],1)}),[],!1,null,null,null);e.a=component.exports},238:function(t,e,n){"use strict";var strong=n(239),r=n(235);t.exports=n(240)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(r(this,"Set"),t=0===t?0:t,t)}},strong)},239:function(t,e,n){"use strict";var r=n(28).f,o=n(74),c=n(167),l=n(46),f=n(165),_=n(166),v=n(116),y=n(168),h=n(117),d=n(26),m=n(114).fastKey,O=n(235),j=d?"_s":"size",k=function(t,e){var n,r=m(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,v){var y=t((function(t,r){f(t,y,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[j]=0,null!=r&&_(r,n,t[v],t)}));return c(y.prototype,{clear:function(){for(var t=O(this,e),data=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];t._f=t._l=void 0,t[j]=0},delete:function(t){var n=O(this,e),r=k(n,t);if(r){var o=r.n,c=r.p;delete n._i[r.i],r.r=!0,c&&(c.n=o),o&&(o.p=c),n._f==r&&(n._f=o),n._l==r&&(n._l=c),n[j]--}return!!r},forEach:function(t){O(this,e);for(var n,r=l(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!k(O(this,e),t)}}),d&&r(y.prototype,"size",{get:function(){return O(this,e)[j]}}),y},def:function(t,e,n){var r,o,c=k(t,e);return c?c.v=n:(t._l=c={i:o=m(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=c),r&&(r.n=c),t[j]++,"F"!==o&&(t._i[o]=c)),t},getEntry:k,setStrong:function(t,e,n){v(t,e,(function(t,n){this._t=O(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?y(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,y(1))}),n?"entries":"values",!n,!0),h(e)}}},240:function(t,e,n){"use strict";var r=n(18),o=n(13),c=n(29),l=n(167),meta=n(114),f=n(166),_=n(165),v=n(25),y=n(22),h=n(115),d=n(73),m=n(118);t.exports=function(t,e,n,O,j,k){var w=r[t],x=w,C=j?"set":"add",S=x&&x.prototype,P={},$=function(t){var e=S[t];c(S,t,"delete"==t||"has"==t?function(a){return!(k&&!v(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return k&&!v(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof x&&(k||S.forEach&&!y((function(){(new x).entries().next()})))){var E=new x,D=E[C](k?{}:-0,1)!=E,L=y((function(){E.has(1)})),N=h((function(t){new x(t)})),A=!k&&y((function(){for(var t=new x,e=5;e--;)t[C](e,e);return!t.has(-0)}));N||((x=e((function(e,n){_(e,x,t);var r=m(new w,e,x);return null!=n&&f(n,j,r[C],r),r}))).prototype=S,S.constructor=x),(L||A)&&($("delete"),$("has"),j&&$("get")),(A||D)&&$(C),k&&S.clear&&delete S.clear}else x=O.getConstructor(e,t,j,C),l(x.prototype,n),meta.NEED=!0;return d(x,t),P[t]=x,o(o.G+o.W+o.F*(x!=w),P),k||O.setStrong(x,t,j),x}},242:function(t,e,n){"use strict";n(4),n(5);var r=n(11),o=n(0),c=(n(52),n(3),n(169),n(8),n(12),n(2),n(47),n(39),n(14),n(40),n(238),n(1),n(59));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={data:function(){return{busy:!0}},props:{activity:Object},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({orgNames:function(){var t=this;return 0==Object.keys(this.orgs).length?"":this.unique(Object.entries(this.activity.orgs).reduce((function(summary,e){e[0];return e[1].map((function(e){e in t.orgs&&summary.push(t.orgs[e].info.name)})),summary}),[]))},locationNames:function(){var t=this;return 0==Object.keys(this.locations).length?"":this.unique(Object.entries(this.activity.locations).reduce((function(summary,e){var n=e[0];return e[1].map((function(e){if("countries"==n)return summary.push(e),summary;null!=t.locations[n][e]?summary.push(t.locations[n][e].info.name):summary.push(e)})),summary}),[]))}},Object(c.b)(["orgs","locations"])),methods:{unique:function(t){return Array.from(new Set(t.filter((function(t){return""!=t}))))}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadOrgs");case 2:return e.next=4,t.$store.dispatch("loadLocations");case 4:t.busy=!1;case 5:case"end":return e.stop()}}),e)})))()}},_=n(51),component=Object(_.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0==this.busy?n("div",{staticClass:"item"},[n("nuxt-link",{attrs:{title:t.activity.title,to:{name:"activities-identifier",params:{identifier:t.activity.identifier}}}},[t._v("\n    "+t._s(t._f("truncate")(t.activity.title))+"\n  ")]),t._v(" "),n("span",{staticClass:"info"},[n("b",[t._v("Who:")]),t._v(" "+t._s(t._f("truncate")(t._f("join")(t.orgNames))))]),t._v(" "),n("span",{staticClass:"info"},[n("b",[t._v("Where:")]),t._v(" "+t._s(t._f("truncate")(t._f("join")(t.locationNames))))]),t._v(" "),n("span",{staticClass:"info"},[n("b",[t._v("Source:")]),t._v(" "+t._s(t.activity.source))])],1):t._e()}),[],!1,null,null,null);e.a=component.exports},252:function(t,e,n){"use strict";n.r(e);n(3),n(2),n(1),n(4),n(5);var r=n(11),o=n(0),c=(n(52),n(12),n(59)),l=n(237),f=n(236),_=n(242);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var y={data:function(){return{busy:!0,sector:{}}},components:{Org:l.a,Location:f.a,Activity:_.a},methods:{flatten:function(t){return this.$options.filters.flatten(t)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({sector_type:function(){return this.$route.params.type},sector_name:function(){return this.sectors[this.sector_type][this.stub].name},stub:function(){return this.$route.params.stub}},Object(c.b)(["sectors","orgs","activities","locations"])),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadSectors");case 2:return e.next=4,t.$store.dispatch("loadOrgs");case 4:return e.next=6,t.$store.dispatch("loadActivities");case 6:return e.next=8,t.$store.dispatch("loadLocations");case 8:t.sector=t.sectors[t.$route.params.type][t.$route.params.stub],t.busy=!1;case 10:case"end":return e.stop()}}),e)})))()}},h=n(51),component=Object(h.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[1!=t.busy?n("main",[n("section",{attrs:{id:"content"}},[n("nav",{staticClass:"secondary"},[n("nuxt-link",{attrs:{to:{name:"sectors-type-stub",params:{type:t.sector_type,stub:t.stub},hash:"#orgs"}}},[t._v("Organisations")]),t._v(" "),n("nuxt-link",{attrs:{to:{name:"sectors-type-stub",params:{type:t.sector_type,stub:t.stub},hash:"#locations"}}},[t._v("Locations")]),t._v(" "),n("nuxt-link",{attrs:{to:{name:"sectors-type-stub",params:{type:t.sector_type,stub:t.stub},hash:"#activities"}}},[t._v("Activities")])],1),t._v(" "),n("h2",[t._v(t._s(t._f("sector")(t.sector_type))+": "+t._s(t.sector_name))]),t._v(" "),n("section",{attrs:{id:"orgs"}},[n("h3",[t._v("Organisations working in "+t._s(t.sector_name))]),t._v(" "),t._l(["local","regional","international","unknown"],(function(e){return Object.keys(t.sector.orgs[e]).length>0?n("section",{key:e,attrs:{id:"orgs."+e}},[n("h4",[t._v(t._s(t._f("capitalize")(t._f("scope")(e)))+"s")]),t._v(" "),n("div",{staticClass:"inline-list"},t._l(Object.keys(t.sector.orgs[e]).sort(),(function(r){return n("Org",{key:r,attrs:{org:t.orgs[r],activity_count:t.sector.orgs[e][r]}})})),1)]):t._e()}))],2),t._v(" "),n("section",{attrs:{id:"locations"}},[n("h3",[t._v("Where "+t._s(t.sector_name)+" is active")]),t._v(" "),t._l(Object.keys(t.sector.locations.admin1).sort(),(function(e){return n("section",{key:e},[n("h4",[t._v(t._s(t.locations.admin1[e].info.name))]),t._v(" "),n("div",{staticClass:"inline-list"},t._l(Object.keys(t.sector.locations.admin2).sort(),(function(e){return n("Location",{key:e,attrs:{name:t.locations.admin2[e].info.name,stub:e,type:"admin2",activity_count:t.sector.locations.admin2[e]}})})),1)])})),t._v(" "),0==Object.keys(t.sector.locations.admin1).length?n("p",{staticClass:"warning"},[t._v("No location information available for "+t._s(t.sector_name)+".")]):t._e()],2),t._v(" "),n("section",{attrs:{id:"activities"}},[n("h3",[t._v("Activities related to "+t._s(t.sector_name)+" ("+t._s(t._f("length")(t.sector.activities))+")")]),t._v(" "),n("div",{staticClass:"inline-list wide"},t._l(t.sector.activities,(function(e){return n("Activity",{key:e,attrs:{activity:t.activities[e]}})})),1)])])]):t._e()])}),[],!1,null,null,null);e.default=component.exports}}]);