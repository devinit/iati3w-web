(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{245:function(t,n,e){"use strict";var r={data:function(){return{}},props:{name:String,stub:String,type:String}},o=e(53),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.stub,type:t.type}}}},[t._v("\n  "+t._s(t.name)+" "+t._s(t._f("capitalize")(t._f("location")(t.type)))+"\n")])}),[],!1,null,null,null);n.a=component.exports},246:function(t,n,e){var r=e(26);t.exports=function(t,n){if(!r(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},247:function(t,n,e){"use strict";e(166);var r=e(245),o={data:function(){return{}},props:{stub:String,name:String,type:String,org_count:{type:Number,default:-1},activity_count:{type:Number,default:-1}},components:{LocationLink:r.a}},c=e(53),component=Object(c.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"item"},[e("LocationLink",{attrs:{stub:t.stub,name:t.name,type:t.type}}),t._v(" "),t.org_count>-1?e("span",{staticClass:"info"},[t._v("\n    "+t._s(t._f("plural")(t.org_count,"organisation","organisations"))+"\n  ")]):t._e(),t._v(" "),t.activity_count>-1?e("span",{staticClass:"info"},[t._v("\n    "+t._s(t._f("plural")(t.activity_count,"activity","activities"))+"\n  ")]):t._e()],1)}),[],!1,null,null,null);n.a=component.exports},248:function(t,n,e){"use strict";e(166);var r={data:function(){return{}},props:{org:Object,activity_count:Number}},o=e(53),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-card",[e("nuxt-link",{attrs:{title:t.org.info.stub,to:{name:"orgs-stub",params:{stub:t.org.info.stub}}}},[t._v(t._s(t.org.info.name))]),t._v(" "),e("span",{staticClass:"info"},[e("b",[t._v("Source:")]),t._v(" "+t._s(t._f("join")(t.org.sources)))]),t._v(" "),e("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.activity_count,"activity","activities")))])],1)}),[],!1,null,null,null);n.a=component.exports},249:function(t,n,e){"use strict";var strong=e(250),r=e(246);t.exports=e(251)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(r(this,"Set"),t=0===t?0:t,t)}},strong)},250:function(t,n,e){"use strict";var r=e(29).f,o=e(75),c=e(169),l=e(48),f=e(167),_=e(168),v=e(117),m=e(171),y=e(118),h=e(27),d=e(115).fastKey,O=e(246),j=h?"_s":"size",k=function(t,n){var e,r=d(n);if("F"!==r)return t._i[r];for(e=t._f;e;e=e.n)if(e.k==n)return e};t.exports={getConstructor:function(t,n,e,v){var m=t((function(t,r){f(t,m,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[j]=0,null!=r&&_(r,e,t[v],t)}));return c(m.prototype,{clear:function(){for(var t=O(this,n),data=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete data[e.i];t._f=t._l=void 0,t[j]=0},delete:function(t){var e=O(this,n),r=k(e,t);if(r){var o=r.n,c=r.p;delete e._i[r.i],r.r=!0,c&&(c.n=o),o&&(o.p=c),e._f==r&&(e._f=o),e._l==r&&(e._l=c),e[j]--}return!!r},forEach:function(t){O(this,n);for(var e,r=l(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(r(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!k(O(this,n),t)}}),h&&r(m.prototype,"size",{get:function(){return O(this,n)[j]}}),m},def:function(t,n,e){var r,o,c=k(t,n);return c?c.v=e:(t._l=c={i:o=d(n,!0),k:n,v:e,p:r=t._l,n:void 0,r:!1},t._f||(t._f=c),r&&(r.n=c),t[j]++,"F"!==o&&(t._i[o]=c)),t},getEntry:k,setStrong:function(t,n,e){v(t,n,(function(t,e){this._t=O(t,n),this._k=e,this._l=void 0}),(function(){for(var t=this,n=t._k,e=t._l;e&&e.r;)e=e.p;return t._t&&(t._l=e=e?e.n:t._t._f)?m(0,"keys"==n?e.k:"values"==n?e.v:[e.k,e.v]):(t._t=void 0,m(1))}),e?"entries":"values",!e,!0),y(n)}}},251:function(t,n,e){"use strict";var r=e(19),o=e(15),c=e(30),l=e(169),meta=e(115),f=e(168),_=e(167),v=e(26),m=e(23),y=e(116),h=e(74),d=e(119);t.exports=function(t,n,e,O,j,k){var w=r[t],x=w,C=j?"set":"add",P=x&&x.prototype,S={},$=function(t){var n=P[t];c(P,t,"delete"==t||"has"==t?function(a){return!(k&&!v(a))&&n.call(this,0===a?0:a)}:"get"==t?function(a){return k&&!v(a)?void 0:n.call(this,0===a?0:a)}:"add"==t?function(a){return n.call(this,0===a?0:a),this}:function(a,b){return n.call(this,0===a?0:a,b),this})};if("function"==typeof x&&(k||P.forEach&&!m((function(){(new x).entries().next()})))){var E=new x,L=E[C](k?{}:-0,1)!=E,A=m((function(){E.has(1)})),D=y((function(t){new x(t)})),N=!k&&m((function(){for(var t=new x,n=5;n--;)t[C](n,n);return!t.has(-0)}));D||((x=n((function(n,e){_(n,x,t);var r=d(new w,n,x);return null!=e&&f(e,j,r[C],r),r}))).prototype=P,P.constructor=x),(A||N)&&($("delete"),$("has"),j&&$("get")),(N||L)&&$(C),k&&P.clear&&delete P.clear}else x=O.getConstructor(n,t,j,C),l(x.prototype,e),meta.NEED=!0;return h(x,t),S[t]=x,o(o.G+o.W+o.F*(x!=w),S),k||O.setStrong(x,t,j),x}},252:function(t,n,e){"use strict";e(10),e(4),e(5);var r=e(11),o=e(0),c=(e(47),e(3),e(170),e(9),e(13),e(2),e(49),e(41),e(14),e(40),e(249),e(1),e(62));function l(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var f={data:function(){return{busy:!0}},props:{activity:Object},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(n){Object(o.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({orgNames:function(){var t=this;return 0==Object.keys(this.orgs).length?"":this.unique(Object.entries(this.activity.orgs).reduce((function(summary,n){n[0];return n[1].map((function(n){n in t.orgs&&summary.push(t.orgs[n].info.name)})),summary}),[]))},locationNames:function(){var t=this;return 0==Object.keys(this.locations).length?"":this.unique(Object.entries(this.activity.locations).reduce((function(summary,n){var e=n[0];return n[1].map((function(n){if("countries"==e)return summary.push(n),summary;null!=t.locations[e][n]?summary.push(t.locations[e][n].info.name):summary.push(n)})),summary}),[]))}},Object(c.b)(["orgs","locations"])),methods:{unique:function(t){return Array.from(new Set(t.filter((function(t){return""!=t}))))}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("loadOrgs");case 2:return n.next=4,t.$store.dispatch("loadLocations");case 4:t.busy=!1;case 5:case"end":return n.stop()}}),n)})))()}},_=e(53),v={data:function(){return{perPage:50,page:1}},components:{Activity:Object(_.a)(f,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return 0==this.busy?e("div",{staticClass:"item"},[e("nuxt-link",{attrs:{title:t.activity.title,to:{name:"activities-identifier",params:{identifier:t.activity.identifier}}}},[t._v("\n    "+t._s(t._f("truncate")(t.activity.title))+"\n  ")]),t._v(" "),e("span",{staticClass:"info"},[e("b",[t._v("Who:")]),t._v(" "+t._s(t._f("truncate")(t._f("join")(t.orgNames))))]),t._v(" "),e("span",{staticClass:"info"},[e("b",[t._v("Where:")]),t._v(" "+t._s(t._f("truncate")(t._f("join")(t.locationNames))))]),t._v(" "),e("span",{staticClass:"info"},[e("b",[t._v("Source:")]),t._v(" "+t._s(t.activity.source))])],1):t._e()}),[],!1,null,null,null).exports},props:{activities:Object,activitiesList:Array},computed:{totalRows:function(){return this.activitiesList.length},filteredActivities:function(){return this.activitiesList.slice((this.page-1)*this.perPage,this.perPage*this.page)}},watch:{perPage:function(){this.page=1}}},m=Object(_.a)(v,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.totalRows>t.perPage?e("b-row",{staticClass:"mb-2"},[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Activities per page","label-for":"per-page","label-class":"mb-0","label-size":"sm"}},[e("b-form-select",{staticClass:"my-0",attrs:{id:"per-page",size:"sm",options:[50,100,200,500,1e3]},model:{value:t.perPage,callback:function(n){t.perPage=n},expression:"perPage"}})],1)],1),t._v(" "),e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Page","label-size":"sm","label-class":"mb-1"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.page,callback:function(n){t.page=n},expression:"page"}})],1)],1)],1):t._e(),t._v(" "),e("hr"),t._v(" "),e("section",{attrs:{id:"content"}},[e("div",{staticClass:"inline-list wide"},t._l(t.filteredActivities,(function(n){return e("Activity",{key:n,attrs:{activity:t.activities[n]}})})),1)])],1)}),[],!1,null,null,null);n.a=m.exports},253:function(t,n,e){"use strict";e(166);var r={data:function(){return{}},props:{name:String,type:String,stub:String,org_count:{type:Number,default:-1},activity_count:{type:Number,default:-1}}},o=e(53),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"item"},[e("nuxt-link",{attrs:{to:{name:"sectors-type-stub",params:{type:t.type,stub:t.stub}}}},[t._v(t._s(t.name))]),t._v(" "),t.org_count>-1?[e("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.org_count,"organisation","organisations")))])]:t._e(),t._v(" "),t.activity_count>-1?[e("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.activity_count,"activity","activities")))])]:t._e()],2)}),[],!1,null,null,null);n.a=component.exports},408:function(t,n,e){"use strict";e.r(n);e(2),e(1),e(4),e(5);var r=e(11),o=e(0),c=(e(47),e(3),e(13),e(62)),l=e(248),f=e(253),_=e(245),v=e(247),m=e(252);function y(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var h={data:function(){return{busy:!0,info:{}}},components:{Org:l.a,Sector:f.a,LocationLink:_.a,Location:v.a,ActivitiesList:m.a},methods:{flatten:function(t){return this.$options.filters.flatten(t)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(n){Object(o.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({sector_count:function(){return this.$options.filters.flatten(this.org.sectors).length},partner_count:function(){return this.$options.filters.flatten(this.org.partners).length},region_count:function(){return Object.keys(this.org.locations.admin1).length},activity_count:function(){return this.$options.filters.flatten(this.org.activities).length},location_name:function(){if(Object.keys(this.locations).length>0)return this.locations[this.$route.params.type][this.$route.params.stub].info.name},location_type:function(){return this.$route.params.type},stub:function(){return this.$route.params.stub}},Object(c.b)(["orgs","activities","locations","sectors"])),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("loadOrgs");case 2:return n.next=4,t.$store.dispatch("loadLocations");case 4:return n.next=6,t.$store.dispatch("loadActivities");case 6:return n.next=8,t.$store.dispatch("loadSectors");case 8:t.info=t.locations[t.$route.params.type][t.$route.params.stub],t.busy=!1;case 10:case"end":return n.stop()}}),n)})))()}},d=e(53),component=Object(d.a)(h,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[t.busy?e("main",[e("div",{staticClass:"d-flex justify-content-center mb-3"},[e("b-spinner",{attrs:{variant:"secondary",label:"Loading..."}})],1)]):e("main",[e("section",{attrs:{id:"content"}},[e("nav",{staticClass:"secondary"},["admin1"==t.location_type?[e("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.info.info.stub,type:t.location_type},hash:"#districts"}}},[t._v("Districts")])]:t._e(),t._v(" "),e("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.info.info.stub,type:t.location_type},hash:"#orgs"}}},[t._v("Organisations")]),t._v(" "),e("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.info.info.stub,type:t.location_type},hash:"#sectors"}}},[t._v("Sectors")]),t._v(" "),e("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.info.info.stub,type:t.location_type},hash:"#activities"}}},[t._v("Activities")])],2),t._v(" "),e("h2",[t._v(t._s(t.location_name)+" "+t._s(t._f("capitalize")(t._f("location")(t.location_type))))]),t._v(" "),t._l(["admin1","admin2"],(function(n){return t.info.info[n]?e("div",{key:n},[e("p",[e("b",[t._v(t._s(t._f("location")(n))+": ")]),t._v(" "),e("nuxt-link",{attrs:{to:{name:"locations-type-stub",params:{stub:t.info.info[n],type:n}}}},[t._v("\n            "+t._s(t.locations[n][t.info.info[n]].info.name)+"\n          ")])],1)]):t._e()})),t._v(" "),"admin1"==t.location_type?e("section",{attrs:{id:"districts"}},[e("h3",[t._v("Districts of "+t._s(t.location_name))]),t._v(" "),e("div",{staticClass:"inline-list"},t._l(Object.keys(t.locations.admin2).sort(),(function(n){return t.locations.admin2[n].info.admin1==t.stub?e("Location",{key:n,attrs:{stub:n,name:t.locations.admin2[n].info.name,type:"admin2",org_count:t.flatten(t.locations.admin2[n].orgs).length,activity_count:t.locations.admin2[n].activities.length}}):t._e()})),1)]):t._e(),t._v(" "),e("section",{attrs:{id:"orgs"}},[e("h3",[t._v("Organisations working in "+t._s(t.location_name))]),t._v(" "),t._l(["local","regional","international","unknown"],(function(n){return Object.keys(t.info.orgs[n]).length>0?e("section",{attrs:{id:"orgs."+n}},[e("h4",[t._v(t._s(t._f("capitalize")(t._f("scope")(n)))+"s")]),t._v(" "),e("b-card-group",{attrs:{columns:""}},t._l(Object.keys(t.info.orgs[n]).sort(),(function(r){return e("Org",{key:r,attrs:{org:t.orgs[r],activity_count:t.info.orgs[n][r]}})})),1)],1):t._e()}))],2),t._v(" "),e("section",{attrs:{id:"sectors"}},[e("h3",[t._v("Sectors active in "+t._s(t.location_name))]),t._v(" "),t._l(Object.keys(t.info.sectors),(function(n){return e("div",{key:n},[Object.keys(t.info.sectors[n]).length>0?e("section",{attrs:{id:"sectors."+n}},[e("h4",[t._v(t._s(t._f("sector")(n))+"s")]),t._v(" "),e("div",{staticClass:"inline-list"},t._l(Object.keys(t.info.sectors[n]).sort(),(function(r){return e("Sector",{key:r,attrs:{stub:r,name:t.sectors[n][r].name,type:n,activity_count:t.info.sectors[n][r]}})})),1)]):t._e()])}))],2),t._v(" "),e("section",{attrs:{id:"activities"}},[e("h3",[t._v("Aid activities in "+t._s(t.location_name))]),t._v(" "),e("ActivitiesList",{attrs:{activities:t.activities,activitiesList:t.info.activities}})],1)],2)])])}),[],!1,null,null,null);n.default=component.exports}}]);