(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{245:function(t,n,e){var content=e(248);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(56).default)("75ec41fb",content,!0,{sourceMap:!1})},247:function(t,n,e){"use strict";e(245)},248:function(t,n,e){var o=e(55)(!1);o.push([t.i,".region-map{height:350px!important;width:100%;background:none}",""]),t.exports=o},251:function(t,n,e){"use strict";e(2),e(1),e(4),e(5);var o=e(11),r=e(0),c=(e(47),e(166),e(13),e(3),e(9),e(48)),l={components:{},props:["activities","region","regionName","geojson","type","totalActivities"],computed:{options:function(){return{onEachFeature:this.onEachFeatureFunction}},onEachFeatureFunction:function(){var t=this;return function(n,e){e.on("mouseover",(function(t){t.target.setStyle({fillOpacity:1})})),e.on("mouseout",(function(n){n.target.setStyle({fillOpacity:t.fillOpacity})})),e.on("click",(function(){t.clickRegion()}));var o=t.numActivities;e.bindTooltip("".concat(t.regionName,": ").concat(o," activities"),{permanent:!1,sticky:!0})}},numActivities:function(){return this.regionName in this.activities?this.activities[this.regionName]:0},fillOpacity:function(){return this.numActivities/this.totalActivities*10||0},optionsStyle:function(){return{fillColor:"#585fd2",weight:1,opacity:.5,color:"#bbbbbb",fillOpacity:this.fillOpacity}}},methods:{clickRegion:function(){this.$router.push({name:"locations-type-stub",params:{type:this.type,stub:this.geojson.stub}})}}},f=e(54),_=Object(f.a)(l,(function(){var t=this,n=t.$createElement;return(t._self._c||n)("l-geo-json",{ref:"geoJson",attrs:{geojson:t.geojson,options:t.options,"options-style":t.optionsStyle}})}),[],!1,null,null,null).exports;e(168);function v(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var m={components:{RegionMapFeature:_},props:["locations","locationsList"],data:function(){return{busy:!0,zoom:5,center:[5,45],mapControls:{zoomControl:!1,attributionControl:!1,scrollWheelZoom:!1,dragging:!1,keyboard:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,touchZoom:!1}}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({locationsNamesStubs:function(){return Object.entries(this.locations.admin1).reduce((function(summary,t){return summary[t[1].info.name]={stub:t[0],data:t[1]},summary}),{})},locationsStubsNames:function(){return Object.entries(this.locations.admin1).reduce((function(summary,t){return summary[t[0]]=t[1].info.name,summary}),{})},regions:function(){var t=this;return 0===Object.keys(this.geoJSONData).length?[]:this.geoJSONData.features.map((function(n){return{region:n.properties.admin1Name,regionName:n.properties.admin1Name,features:[n],stub:t.locationsNamesStubs[n.properties.admin1Name]?t.locationsNamesStubs[n.properties.admin1Name].stub:"",data:t.locationsNamesStubs[n.properties.admin1Name]?t.locationsNamesStubs[n.properties.admin1Name].data:{}}}))},activities:function(){return this.locationsList?this.activitiesLocationsList:this.activitiesLocations},totalActivities:function(){return this.locationsList?this.totalActivitiesLocationsList:this.totalActivitiesLocations},totalActivitiesLocationsList:function(){return Object.entries(this.locationsList.admin1).reduce((function(summary,t){return summary+t[1]}),0)},totalActivitiesLocations:function(){return Object.entries(this.locations.admin1).reduce((function(summary,t){return summary+t[1].activities.length}),0)},activitiesLocationsList:function(){var t=this;return Object.entries(this.locationsList.admin1).reduce((function(summary,n){return summary[t.locationsStubsNames[n[0]]]=n[1],summary}),{})},activitiesLocations:function(){return Object.entries(this.locations.admin1).reduce((function(summary,t){return summary[t[1].info.name]=t[1].activities.length,summary}),{})}},Object(c.b)(["geoJSONData"])),mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("loadMapData");case 2:t.busy=!1;case 3:case"end":return n.stop()}}),n)})))()}},h=(e(247),Object(f.a)(m,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.busy?[e("div",{staticClass:"d-flex justify-content-center mb-3"},[e("b-spinner",{attrs:{variant:"secondary",label:"Loading..."}})],1)]:[e("l-map",{staticClass:"region-map",attrs:{zoom:t.zoom,center:t.center,options:t.mapControls}},t._l(t.regions,(function(n){return e("RegionMapFeature",{key:n.region,attrs:{geojson:n,activities:t.activities,"total-activities":t.totalActivities,region:n.region,"region-name":n.regionName,type:"admin1"}})})),1)]],2)}),[],!1,null,null,null));n.a=h.exports},254:function(t,n,e){"use strict";e(167);var o={data:function(){return{}},props:{name:String,type:String,stub:String,org_count:{type:Number,default:-1},activity_count:{type:Number,default:-1}}},r=e(54),component=Object(r.a)(o,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"item"},[e("nuxt-link",{attrs:{to:{name:"sectors-type-stub",params:{type:t.type,stub:t.stub}}}},[t._v(t._s(t.name))]),t._v(" "),t.org_count>-1?[e("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.org_count,"organisation","organisations")))])]:t._e(),t._v(" "),t.activity_count>-1?[e("span",{staticClass:"info"},[t._v(t._s(t._f("plural")(t.activity_count,"activity","activities")))])]:t._e()],2)}),[],!1,null,null,null);n.a=component.exports},418:function(t,n,e){"use strict";e.r(n);e(2),e(1),e(4),e(5);var o=e(11),r=e(0),c=(e(47),e(17),e(3),e(395)),l=e.n(c),f=e(48),_=e(253),v=e(254),m=e(246),h=e(252),d=e(396),y=e(251);function O(object,t){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),n.push.apply(n,e)}return n}var j={data:function(){return{org:{sectors:[],partners:{local:{},regional:{},international:{},unknown:{}},locations:{admin1:[]},activities:[]},busy:!0}},components:{Org:_.a,Sector:v.a,LocationLink:m.a,Location:h.a,ActivitiesList:d.a,RegionMap:y.a},methods:{urlenc:function(t){return this.$options.filters.urlenc(t)},handleScroll:function(){var t=this.$route.hash.split("#")[1];this.$route.hash&&setTimeout((function(){var n=document.getElementById(t);l.a.scrollTo(n,500)}),300)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(n){Object(r.a)(t,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(source,n))}))}return t}({sector_count:function(){return this.$options.filters.flatten(this.org.sectors[this.source]).length},partner_count:function(){return this.$options.filters.flatten(this.org.partners[this.source]).length},region_count:function(){return Object.keys(this.org.locations[this.source].admin1).length},activity_count:function(){return this.$options.filters.flatten(this.org.activities).length}},Object(f.b)(["orgs","activities","locations","sectors","source"])),mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("loadOrgs");case 2:return t.org=t.orgs[t.$route.params.stub],t.$store.dispatch("loadLocations"),n.next=6,t.$store.dispatch("loadActivities");case 6:return n.next=8,t.$store.dispatch("loadSectors");case 8:t.busy=!1,t.handleScroll();case 10:case"end":return n.stop()}}),n)})))()}},k=e(54),component=Object(k.a)(j,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container"},[t.busy?e("main",[e("div",{staticClass:"d-flex justify-content-center mb-3"},[e("b-spinner",{attrs:{variant:"secondary",label:"Loading..."}})],1)]):e("main",[e("section",{attrs:{id:"content"}},[e("h2",[t._v("\n      "+t._s(t.org.info.name)+"\n      "),t.org.info.name!=t.org.info.shortname?[t._v("\n      ("+t._s(t.org.info.shortname)+")\n      ")]:t._e()],2),t._v(" "),e("p",[t._v("\n      According to the "+t._s(t._f("join")(t.org.sources," and "))+" data,\n      "+t._s(t._f("scope")(t.org.info.scope))+" "),e("b",[t._v(t._s(t.org.info.name))]),t._v("\n      works\n      "),t.region_count>0?[t._v("\n      in "),e("nuxt-link",{attrs:{to:{name:"organisations-stub",params:{stub:t.org.info.stub},hash:"#locations"}}},[t._v(t._s(t._f("plural")(t.region_count,"region","regions")))]),t._v(" of Somalia,\n      ")]:t._e(),t._v(" "),t.sector_count>0?[t._v("\n      through "),e("nuxt-link",{attrs:{to:{name:"organisations-stub",params:{stub:t.org.info.stub},hash:"#sectors"}}},[t._v(t._s(t._f("plural")(t.sector_count,"sector","sectors")))]),t._v(",\n      ")]:t._e(),t._v(" "),t.partner_count>0?[t._v("\n      collaborating with "),e("nuxt-link",{attrs:{to:{name:"organisations-stub",params:{stub:t.org.info.stub},hash:"#partners"}}},[t._v(t._s(t._f("plural")(t.partner_count,"partner organisation","partner organisations")))]),t._v(",\n      ")]:t._e(),t._v("\n      on a total of "),e("nuxt-link",{attrs:{to:{name:"organisations-stub",params:{stub:t.org.info.stub},hash:"#activities"}}},[t._v(t._s(t._f("plural")(t.activity_count,"aid activity","aid activities")))]),t._v(" "),t.org.humanitarian?[t._v("\n      (including humanitarian activities).\n      ")]:[t._v("\n      (none flagged as humanitarian).\n      ")]],2),t._v(" "),t.org.info.synonyms.length>0?[e("p",[t._v("\n      Alternative names: "),e("i",[t._v(t._s(t._f("truncate")(t._f("join")(t.org.info.synonyms))))])])]:t._e(),t._v(" "),t.org.info.iati_id?[e("p",[t._v("\n      IATI organisation identifier: "),e("a",{attrs:{href:"https://d-portal.org/ctrack.html?reporting_ref="+t.urlenc(t.org.info.iati_id),target:"_blank"}},[t._v(t._s(t.org.info.iati_id))]),t._v(" (link opens in D-Portal).\n    ")])]:t._e(),t._v(" "),t.org.info.url?[e("p",[t._v("\n      You can learn more about "+t._s(t.org.info.shortname)+" at "),e("a",{attrs:{href:t.org.info.url,target:"_blank",rel:"nofollow"}},[t._v(t._s(t.org.info.url))])])]:t._e(),t._v(" "),e("hr"),t._v(" "),e("section",{attrs:{id:"partners"}},[e("b-row",[e("b-col",{attrs:{lg:"12"}},[e("h3",[t._v("Organisations who partner with "+t._s(t.org.info.shortname))])])],1),t._v(" "),t.partner_count>0?t._l(["local","regional","international","unknown"],(function(n){return e("div",{key:n},[Object.keys(t.org.partners[t.source][n]).length>0?e("section",{attrs:{id:"partners."+n}},[e("h4",[t._v(t._s(t._f("capitalize")(t._f("scope")(n)))+"s")]),t._v(" "),e("b-card-group",{attrs:{columns:""}},t._l(Object.keys(t.org.partners[t.source][n]).sort(),(function(o){return e("Org",{key:o,attrs:{org:t.orgs[o],activity_count:t.org.partners[t.source][n][o]}})})),1)],1):t._e()])})):[e("p",{staticClass:"notice"},[t._v("(No partner organisations found for "+t._s(t.org.info.name)+".)")])],t._v(" "),e("hr")],2),t._v(" "),e("section",{attrs:{id:"sectors"}},[e("h3",[t._v("Sectors where "+t._s(t.org.info.shortname)+" works")]),t._v(" "),t.sector_count>0?t._l(Object.keys(t.org.sectors[t.source]),(function(n){return Object.keys(t.org.sectors[t.source][n]).length>0?e("div",{key:n},[e("section",{attrs:{id:"sectors."+n}},[e("h4",[t._v(t._s(t._f("sector")(n))+"s")]),t._v(" "),e("div",{staticClass:"inline-list"},t._l(Object.keys(t.org.sectors[t.source][n]).sort(),(function(o){return e("Sector",{key:o,attrs:{stub:o,name:t.sectors[n][o].name,type:n,activity_count:t.org.sectors[t.source][n][o]}})})),1)])]):t._e()})):[e("p",{staticClass:"notice"},[t._v("(No sectors found for "+t._s(t.org.info.name)+".)")])],t._v(" "),e("hr")],2),t._v(" "),t.region_count>0?e("section",{attrs:{id:"locations"}},[e("h3",[t._v("Regions where "+t._s(t.org.info.shortname)+" works")]),t._v(" "),e("b-row",[e("b-col",{attrs:{lg:"4"}},[e("client-only",[e("RegionMap",{staticClass:"mb-4",attrs:{locations:t.locations,"locations-list":t.org.locations[t.source]}})],1)],1),t._v(" "),e("b-col",{attrs:{lg:"8"}},[e("b-card-group",{attrs:{columns:""}},t._l(Object.keys(t.org.locations[t.source].admin1).sort(),(function(n){return e("b-card",{key:n},[e("h4",[e("LocationLink",{attrs:{stub:n,name:t.locations.admin1[n].info.name,type:"admin1"}}),t._v("\n                ("+t._s(t._f("plural")(t.org.locations[t.source].admin1[n],"activity","activities"))+")\n              ")],1),t._v(" "),e("div",{staticClass:"inline-list"},t._l(Object.keys(t.org.locations[t.source].admin2).sort(),(function(o){return t.locations.admin2[o].info.admin1==n?e("Location",{key:o,attrs:{name:t.locations.admin2[o].info.name,stub:o,type:"admin2",activity_count:t.org.locations[t.source].admin2[o]}}):t._e()})),1)])})),1)],1)],1),t._v(" "),e("hr")],1):t._e(),t._v(" "),e("section",{attrs:{id:"activities"}},[e("h3",[t._v("Activities involving "+t._s(t.org.info.shortname))]),t._v(" "),t._l(Object.keys(t.org.activities),(function(n){return t.org.activities[n].length>0?e("section",{key:n,attrs:{id:"activities."+n}},[e("h4",[t._v(t._s(t.org.info.shortname)+" as "+t._s(t._f("role")(n))+" ("+t._s(t.org.activities[n].length)+")")]),t._v(" "),e("ActivitiesList",{attrs:{activities:t.activities,activitiesList:t.org.activities[n]}})],1):t._e()}))],2)],2)])])}),[],!1,null,null,null);n.default=component.exports}}]);